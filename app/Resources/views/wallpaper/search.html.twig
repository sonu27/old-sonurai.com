{% extends 'base.html.twig' %}

{% block title %}Bing Wallpapers - Search for {{ query }}{% endblock %}

{% block body %}
    <header class="row">
        <div class="col-xs-10"><h1 id="page-title">Bing Wallpapers</h1></div>
        <div class="col-xs-2 search-col"><a class="show-wallpaper-search"><i class="fa fa-search"></i></a></div>
    </header>

    <div class="search-col">
        <form class="form-inline wallpaper-search-form" action="{{ path('wallpaper_search') }}">
            <input name="query" type="search" value="{{ query }}" class="form-control" placeholder="Search wallpapers">
        </form>
    </div>

    <p>Found {{ count }} result(s) for "{{ query }}".</p>

    {% for wallpaper in wallpapers %}
        <article class="post">
            <p><a href="{{ path('wallpaper_show', {'id': wallpaper.id}) }}"><img src="{{ path }}{{ wallpaper.name }}_th.jpg" alt="{{ wallpaper.description }}" class="img-responsive"></a></p>
            <p>{{ wallpaper.description }}</p>
        </article>
    {% endfor %}

    <ul class="pagination">
        {% for page in pagination %}
            <li{% if page.class is not null %} class="{{ page.class }}"{% endif %}><a href="{{ page.url }}" class="btn">{{ page.page|raw }}</a></li>
        {% endfor %}
    </ul>
{% endblock %}

{% block javascripts %}
    <script>
        $(function() {
            $(".show-wallpaper-search").click(function() {
                $(".wallpaper-search-form").toggle();
            });
        })
    </script>
{% endblock %}
